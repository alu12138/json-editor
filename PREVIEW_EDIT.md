# 预览区值编辑功能使用说明

## 功能介绍

在 JSON 预览区右侧，所有的叶子节点值现在都支持**直接点击编辑**，无需通过左侧树形菜单选择。

## 使用步骤

### 1. 上传 JSON 文件
- 点击"上传 JSON 文件"按钮
- 选择任意 JSON 文件上传
- 左侧显示树形结构，右侧实时展示 JSON 内容

### 2. 点击预览区的值进行编辑
- **可点击的值**：预览区域中所有的基本类型值（字符串、数字、布尔值等）都是蓝色下划线，可点击
- **点击后**：弹出编辑模态框
- **显示信息**：
  - 字段路径（例如：`data.0.name`）
  - 当前值（JSON 格式）
  
### 3. 编辑值
```
输入框中编辑新值，支持任何 JSON 格式：
- 字符串：必须用双引号，例如 "hello"
- 数字：123, 3.14, -5
- 布尔值：true 或 false
- 数组：[1, 2, 3]
- 对象：{"key": "value"}
- null：null
```

### 4. 确认修改
- 点击"确定"按钮完成修改
- 修改后会实时显示在：
  - 右侧预览区（红色字体标记修改）
  - 左侧树形结构
- 点击"取消"放弃修改

## 视觉提示

| 元素 | 样式 | 含义 |
|------|------|------|
| 可点击的值 | 蓝色下划线 + 浅蓝色背景 | 可以点击编辑 |
| 修改后的值 | 红色字体 | 已被修改的字段 |
| 搜索高亮 | 黄色/橙色背景 | 搜索匹配的文本 |

## 功能特点

✅ **快速编辑**：无需通过左侧树菜单，直接在预览区点击编辑

✅ **实时反馈**：
- 修改后立即在树形结构中更新
- 修改内容自动用红色标记

✅ **路径清晰**：弹窗显示完整的 JSON 路径，不用担心编辑错位置

✅ **容错性强**：
- 支持多种 JSON 格式
- 格式错误有提示，可重试

✅ **支持大文件**：即使预览区显示被截断，仍然可以点击编辑

## 常见问题

### Q: 为什么有些值无法点击？
A: 对象和数组等复杂类型无法直接点击编辑（因为这些是容器，不是值）。但可以通过左侧树菜单编辑。

### Q: 如何编辑数组或对象值？
A: 在弹窗的编辑框中输入完整的 JSON，例如：
```
{"name": "new name", "age": 30}
或
[1, 2, 3, 4, 5]
```

### Q: 修改了但看不到变化？
A: 检查：
1. 是否点击了"确定"按钮
2. 修改是否显示为红色字体
3. 尝试勾选"只显示修改"查看修改详情

### Q: 能否一键撤销修改？
A: 暂不支持撤销。重新上传文件可以恢复原始内容。

## 相关功能

- **左侧编辑**：选中树形节点后，点击"编辑"按钮修改
- **批量修改**：在左侧搜索框输入搜索词，点击"批量修改"修改多个值
- **预览搜索**：在右侧搜索框输入内容，使用"下一处"/"上一处"快速导航
- **只显示修改**：勾选后只显示被修改过的字段


